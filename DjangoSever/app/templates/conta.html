{% extends "layout.html" %}
{% load crispy_forms_tags %}
    {% block content %}
        {% if error %}
            <div class="alert alert-danger" role="alert">
                Erro. Dados inv√°lidos.
            </div>
        {% endif %}
        <br>
        <h2>Conta Utilizador</h2>
        <br>
        <div class="col-lg-8 order-lg-2" style="margin: auto">
            <ul class="nav nav-tabs">
                <li class="nav-item" style="width: 22%">
                    <a href="" data-target="#profile" data-toggle="tab" class="nav-link active">
                        <img src="/static/images/user.png" style="width: 14%; height: 14%">
                        <span>&nbsp;</span>
                        Conta
                    </a>
                </li>
                <li class="nav-item" style="width: 22%">
                    <a href="" data-target="#messages" data-toggle="tab" class="nav-link">
                        <img src="/static/images/password.png" style="width: 14%; height: 14%">
                        <span>&nbsp;</span>
                        Alterar password
                    </a>
                </li>
                <li class="nav-item" style="width: 22%">
                    <a href="/logout"  class="nav-link">
                        <img src="/static/images/logout.png" style="width: 14%; height: 14%">
                        <span>&nbsp;</span>
                        Logout</a>
                </li>
            </ul>
            <div class="tab-content py-4">
                <div class="tab-pane active" id="profile">
                    <form role="form" action="/updateemail/" method="POST">
                        {% csrf_token %}
                        <div class="form-group row">
                            <label class="col-lg-3">Nome de utilizador</label>
                            <div class="col-lg-9">
                                <p style="text-align: left; margin: auto;">{{ user.username }}</p>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-lg-3 col-form-label form-control-label">E-mail</label>
                            <div class="col-lg-9">
                                {{ emailform.email }}
                                <!--<input class="form-control" type="text" value=>-->
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-lg-12">
                                <button type="submit" class="btn btn-primary" >Guardar</button>
                            </div>
                        </div>
                    </form>
                    <!--/row-->
                </div>
                <div class="tab-pane" id="messages">
                        <form role="form" action="." method="post">
                        {% csrf_token %}
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Palavra-passe atual</label>
                                <div class="col-lg-9">
                                    {{ form.old_password }}
                                    <!--<input class="form-control" type="password" placeholder="Insira a sua palavra-passe atual">-->
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Nova palavra-passe</label>
                                <div class="col-lg-9">
                                    {{ form.new_password1 }}
                                    <!--<input class="form-control" type="password" placeholder="Insira a sua nova palavra-passe">-->
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Confirmar palavra-passe</label>
                                <div class="col-lg-9">
                                    {{ form.new_password2 }}
                                    <!--<input class="form-control" type="password" placeholder="Confirme a sua nova palavra-passe">-->
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-lg-12">
                                    <button type="submit" class="btn btn-primary" >Guardar</button>
                                </div>
                            </div>
                        </form>
                </div>
            </div>
        </div>
    {% endblock %}